[구글독스](https://docs.google.com/document/d/1SGMtZOGRSk42DyslsK9BDZlZRZfsByDZmD9C12JSYds/edit?usp=sharing)
[피그마](https://www.figma.com/design/73VSLdfkhjtWZpaeU1hbZm/%EC%8A%B9%EB%B6%80%EC%98%88%EC%B8%A1?node-id=0-1&t=4Yoyy4iRh3Dn3wLv-1)
[노션](https://www.notion.so/PJT-B-11b943c01a2e80f6ade6db84130922d3)


# Spo-iler 프로젝트 결과 보고서

---

## 프로젝트 팀 구성
- **조장**: 피승빈  
- **조원**: 박서하  

---

## 목차
1. 프로젝트 개요 및 요구사항  
2. UseCase 다이어그램  
3. 데이터베이스 테이블 구조 (ERD)  
4. 클래스 다이어그램  
5. 사용된 라이브러리 및 프레임워크  
6. 프레임워크 선택 이유  
7. 얼굴 인식 및 감정 분석 모델 구현  
8. 결론 및 기대효과
9. 생성형 AI를 사요한 코드 개선
10. 개발 후기: 프로젝트 진행 후기
11. 시연 영상(레포 안에 고화질 영상 수록)

---

## 1. 프로젝트 개요 및 요구사항
### 시장현황분석
- 경기 분석 플랫폼 성장성: 여가활동에 대한 관심과 소비시장이 커지면서, 자연스럽게 스포츠 관람을 즐기는 사람 수의 증가
- 현황 경쟁사 분석:
  1. 기존 경쟁 서비스: 기존 플랫폼은 현재 스코어를 바탕으로 승률을 책정
  2. 차별점: Spo-iler는 표정 기반 분석과 감정을 같이 고려한 경기 흐름 파악으로 독창적 서비스 제공.

### 프로젝트 개요
Spo-iler 프로젝트는 AI 기술을 활용해 스포츠 경기의 승률을 분석하고 예측하는 플랫폼입니다. 주요 특징으로는 **얼굴 인식**과 **표정 분석**을 기반으로 한 경기 흐름 예측, 사용자의 활동 로그 관리 기능 등이 포함됩니다.

### 요구사항 정의
#### 사용자 기능
1. **회원가입**: 사용자 정보를 입력받아 계정을 생성합니다.  
2. **로그인/로그아웃**: 인증을 통해 시스템에 접근하거나 종료합니다.  

#### 관리 기능
1. **권한 관리**: 사용자 역할(Role)에 따라 접근 가능한 리소스를 제한합니다.  
2. **관리자 페이지**: 사용자 정보 및 활동 로그를 관리합니다.  

#### 보안 기능
1. **JWT 기반 인증**: 토큰을 통한 안전한 세션 관리를 제공합니다.  
2. **데이터 암호화**: 사용자 비밀번호를 안전하게 저장합니다.  

#### 경기 분석 기능
1. 입력받은 경기 상황 정보 및 관계자의 이미지를 분석합니다.  
2. 경기 관계자의 표정에서 감정을 추출합니다.  
3. 추출된 감정을 기반으로 경기의 흐름을 예측하고 승률을 표시합니다.  
4. 분석 의뢰한 사진들을 사용자의 프로필 페이지에 기록합니다.  

#### 사이트 적용 핵심 알고리즘
1. 얼굴 탐지: MobileNet 기반 경량화 CNN 사용, 실시간 탐지 가능.
2. 표정 인식: 7가지 감정 레이블 (neutral, sad, happy 등). AI Hub 제공 데이터셋으로 학습.
3. 승률 예측: 감정 데이터와 경기 상황 연계, AI 기반 승률 산출.

---

## 2. UseCase 다이어그램

### 액터
- **User (사용자)**  

### 주요 기능
1. 회원가입 및 로그인/로그아웃  
2. 사용자 페이지에서 이전 분석 기록 확인  
3. 경기 정보와 이미지를 입력하여 승률 계산  

---

## 3. 데이터베이스 테이블 구조 (ERD)

### 테이블 설계
1. **Role Table**  
   - **컬럼**: `id`(PK), `name`(역할명)  
   - **설명**: 사용자 역할 정보를 관리합니다.  

2. **User Table**  
   - **컬럼**: `id`(PK), `username`, `email`, `password`  
   - **설명**: 사용자 계정 정보를 저장합니다.  

3. **User_Role Table**  
   - **컬럼**: `user_id`(FK), `role_id`(FK)  
   - **설명**: 사용자와 역할 간 다대다 관계를 관리합니다.  

---

## 4. 클래스 다이어그램

### 주요 클래스
1. **User**  
   - 속성: `id`, `username`, `email`, `password`  
   - 메서드: 회원가입, 로그인, 로그아웃  

2. **Role**  
   - 속성: `id`, `name`  
   - 메서드: 권한 부여  

3. **GameAnalysis**  
   - 속성: 경기 정보, 이미지 파일  
   - 메서드: 분석 수행  

---

## 5. 사용된 라이브러리 및 프레임워크

### 프론트엔드
1. **Vue.js**: 사용자 인터페이스 개발  
2. **Vue Router**: 클라이언트 라우팅  
3. **Vuex**: 중앙 상태 관리  
4. **Axios**: 백엔드 API와의 통신  

### 백엔드
1. **Spring Boot**: 백엔드 애플리케이션 개발  
2. **Spring Security**: 인증 및 권한 관리  
3. **Hibernate (JPA)**: 데이터베이스와 객체 간 매핑  
4. **JWT**: 세션리스 인증  

---

## 6. 프레임워크 선택 이유

### 프론트엔드
1. **Vue.js**:  
   - 가벼운 SPA(Single Page Application) 구축 가능.  
   - 코드 재사용성 및 확장성 제공.  

2. **Vue Router**:  
   - 페이지 리로드 없이 빠른 라우팅.  

3. **Vuex**:  
   - 복잡한 데이터 흐름 관리 및 동기화.  

4. **Axios**:  
   - REST API와의 직관적인 통신 제공.  

### 백엔드
1. **Spring Boot**:  
   - 빠르고 간편한 설정 및 강력한 확장성.  

2. **Spring Security**:  
   - 인증 및 권한 부여 표준화.  

3. **Hibernate (JPA)**:  
   - 데이터 모델링 및 NoSQL 데이터베이스 연동에 용이.  

4. **JWT**:  
   - 세션리스 인증으로 서버 부하 감소 및 확장성 향상.  

---

## 7. 얼굴 인식 및 감정 분석 모델 구현

### 사용된 기술 및 모델
1. **Face Detection (얼굴 탐지)**  
   - **기술**: TensorFlow.js, MobileNet 기반 CNN  
   - **모델 파일**:  
     - `tiny_face_model-shard1`  
     - `tiny_face_detector_model-weights_manifest.json`  
   - **특징**:  
     - Depthwise Separable Convolution으로 경량화.  
     - 다양한 조명과 각도에 대응.  

2. **Emotion Recognition (표정 분석)**  
   - **기술**: TensorFlow.js, 자체 학습 모델  
   - **모델 파일**:  
     - `face_expression_model-shard1`  
     - `face_expression_model-weights_manifest.json`  
   - **학습 데이터**:  
     - 한국인 감정 레이블 데이터(AI Hub) 사용 ([링크](https://aihub.or.kr/aihubdata/data/view.do?currMenu=115&topMenu=100&aihubDataSe=realm&dataSetSn=82))  
   - **분류 레이블**:  
     - Neutral, Sad, Happy, Angry, Surprised, Disgusted, Scared  

---

### 구현 과정
1. **모델 학습 및 변환**  
   - 고성능 GPU 환경에서 학습 후, TensorFlow.js 형식으로 변환.  
   - 요소 가중치(`shard1`)와 JSON 통신 모듈로 분리.  

2. **모델 특징**  
   - WebGL 기반 GPU 가속 활용으로 브라우저에서 실시간 처리.  
   - MobileNet 구조를 사용하여 실시간 얼굴 및 표정 인식 가능.  

3. **실시간 분석 및 데이터 시각화**  
   - 감정 데이터와 경기 정보를 결합하여 승률 예측.  
   - 분석 결과는 그래프와 수치로 시각화하여 사용자에게 제공.  

---

## 8. 결론 및 기대효과

### 결론
Spo-iler 프로젝트는 스포츠 경기 분석 분야에서 AI 기반 기술을 도입한 혁신적 플랫폼으로, 얼굴 및 표정 데이터를 활용해 기존의 단순한 스코어 기반 분석을 넘어선 서비스를 제공합니다.

### 기대효과
1. **사용자 경험 향상**  
   - 직관적이고 실시간으로 작동하는 분석 시스템.  

2. **개발 효율성 증대**  
   - 최신 기술과 프레임워크를 활용하여 빠르고 안정적인 시스템 구축.  

3. **시장 경쟁력 강화**  
   - 기존 플랫폼과 차별화된 기능으로 독점적 시장 포지션 확보 가능.  


## 9. 생성형 AI를 사용한 코드 개선
1. **사용 배경**
 - css를 통한 웹 퍼블리싱 과정에서 css 및 디자인의 기획 부족
 - 이로 인해 css에 들어가는 요소의 중복, 비효율 등이 발생하였으며 불필요한 상속으로 인해 대기시간이 증가하는 결점 존재
 - 따라서 CnP방식으로 개발하였던 css 코드의 가독성 및 기능성 향상을 위해 생성형 AI를 활용해 리팩토링을 진행

2. **사용 프롬프트 명령어 및 실행결과**
![챗피티 활용보고](https://github.com/user-attachments/assets/09156ef6-f0dc-4cb1-bf59-0faf55065271)

---

## 10. 개발 후기: 프로젝트 진행 후기
### 피승빈
한 학기 동안 학습하면서 프론트엔드 개발의 재미를 많이 느꼈습니다. 특히 이번 프로젝트에서 프론트엔드를 담당할 수 있어 더욱 뜻깊은 시간이었습니다.

초반에는 취업 준비와 병행하며 시간이 타이트했지만, 팀메이트 서하가 인프라 구성에 많은 신경을 써준 덕분에 안정적으로 시작할 수 있었습니다. 무엇보다 프로젝트 주제가 흥미로워 개발 과정이 더욱 즐거웠습니다.

반응형 화면 렌더링과 Vuex를 활용한 상태 관리 등 기술적인 부분에서도 성장할 수 있었고, 다양한 레퍼런스를 참고해 화면 구성 아이디어를 얻는 경험도 인상적이었습니다.

다음 프로젝트에서는 React와 TypeScript를 학습해 더 널리 쓰이는 기술을 활용해보고 싶습니다. 이번 경험을 바탕으로 더 나은 결과를 만들어가고 싶습니다.

### 박서하

1. 기술적인 후기
평소 파이썬을 활용한 개발에 익숙했지만, 이번 프로젝트에서는 자바 기반 백엔드와 인프라를 구성하며 새로운 경험을 쌓을 수 있었습니다. 특히 Spring Boot Security를 활용해 로그인 기능을 구현하거나, Vuex의 문법을 익혀 프로젝트에 적용해보는 등 기존 SSAFY의 과제에서는 해보기 어렵던 새로운 기술적인 시도를 많이 진행하였습니다.

특히, 이번 프로젝트의 경우, 평소에 관심을 많이 가지고 있었던 데이터 분석, 그 중에서도 화소처리와 관련된 부분에서 꾸준히 공부해해 왔던 경험을 살려 이번 프로젝트에서 고도화하고, 단순히 연구에서 그치지 않고 실용적인 어플리케이션의 개발까지 이어볼 수 있어 좋았습니다.

다만, 승률 계산과 관련하여서는 네이버 크롤링을 통해 현재까지 진행하였던 야구 경기의 특정 이닝 시점에 따른 승률 데이터를 수집한 뒤, 이를 바탕으로 회귀분석식을 작성하여 조금 더 과학적으로 승률을 도출하고 싶었으나, 프로젝트를 위해 할당된 시간이 부족하여 제대로 진행하지 못하였습니다. 기회가 된다면, 향후 이러한 부분들을 보완하여 서비스의 고도화를 진행해보고 싶습니다.

2. 개인적인 후기
싸피에 입과하기 전까지 저는 실제로 작동하는 어플리케이션의 개발보다는, 학술적인 연구를 목적으로 한 프로그램의 개발 활동을 주로 하고 있었습니다. 따라서 싸피의 1학기 교육과정을 거쳐가면서 자바를 통해 웹 프로젝트의 백엔드 구성방법을 배우고, JS를 통해 프론트 환경의 구축 방법에 대해 배우는 과정이 저에게 있어서 큰 발전이었습니다.
이번 프로젝트는 지금까지 배워온 내용의 총망라로, 지금까지 배웠던 웹 프로그래밍 기술들을 통해 직접 서비스를 기획하고, 개발 및 배포까지 진행해보는 귀중한 경험이었습니다.
 특히, 백엔드에서 교육 커리큘럼에 없던 Spring Security를 추가로 학습하고, Spo-iler의 서비스에 적용해나가는 과정에서 SSAFY를 수료하고 난 뒤, 더 나아가 취업 후의 개발자가 어떤 방식으로 역량일 키워나가야 하고, 어떤 방식으로 필요한 학습자료를 찾아 길을 찾아나갈 수 있는지에 대해 알 수 있었습니다.


## 11. 시연영상
https://github.com/user-attachments/assets/e18510fb-6a6b-4a0f-bb42-39a8b8addf2b






